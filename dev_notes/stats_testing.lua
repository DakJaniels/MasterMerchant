local sales =  
{
    [1] = 
    {
        ["id"] = "2134304627",
        ["wasKiosk"] = true,
        ["quant"] = 200,
        ["price"] = 32918,
        ["itemLink"] = 46,
        ["buyer"] = 196337,
        ["timestamp"] = 1687154184,
        ["guild"] = 8,
        ["seller"] = 27873,
    },
    [2] = 
    {
        ["id"] = "2154889221",
        ["wasKiosk"] = true,
        ["quant"] = 50,
        ["price"] = 6500,
        ["itemLink"] = 46,
        ["buyer"] = 100249,
        ["timestamp"] = 1689771276,
        ["guild"] = 2,
        ["seller"] = 16827,
    },
    [3] = 
    {
        ["id"] = "2154889245",
        ["wasKiosk"] = true,
        ["quant"] = 50,
        ["price"] = 6500,
        ["itemLink"] = 46,
        ["buyer"] = 100249,
        ["timestamp"] = 1689771277,
        ["guild"] = 2,
        ["seller"] = 16827,
    },
    [4] = 
    {
        ["id"] = "2161847805",
        ["wasKiosk"] = false,
        ["quant"] = 200,
        ["price"] = 28800,
        ["itemLink"] = 46,
        ["buyer"] = 196200,
        ["timestamp"] = 1690552166,
        ["guild"] = 4,
        ["seller"] = 4103,
    },
    [5] = 
    {
        ["id"] = "2163189965",
        ["wasKiosk"] = true,
        ["quant"] = 10,
        ["price"] = 1460,
        ["itemLink"] = 46,
        ["buyer"] = 114628,
        ["timestamp"] = 1690668769,
        ["guild"] = 4,
        ["seller"] = 206355,
    },
    [6] = 
    {
        ["id"] = "2163596589",
        ["wasKiosk"] = true,
        ["quant"] = 200,
        ["price"] = 40000,
        ["itemLink"] = 46,
        ["buyer"] = 208990,
        ["timestamp"] = 1690697868,
        ["guild"] = 4,
        ["seller"] = 3436,
    },
    [7] = 
    {
        ["id"] = "2163595175",
        ["wasKiosk"] = true,
        ["quant"] = 100,
        ["price"] = 24989,
        ["itemLink"] = 46,
        ["buyer"] = 86171,
        ["timestamp"] = 1690697709,
        ["guild"] = 5,
        ["seller"] = 4140,
    },
    [8] = 
    {
        ["id"] = "2164229411",
        ["wasKiosk"] = true,
        ["quant"] = 200,
        ["price"] = 35000,
        ["itemLink"] = 46,
        ["buyer"] = 18764,
        ["timestamp"] = 1690763315,
        ["guild"] = 4,
        ["seller"] = 103629,
    },
    [9] = 
    {
        ["id"] = "2170550515",
        ["wasKiosk"] = true,
        ["quant"] = 13,
        ["price"] = 2366,
        ["itemLink"] = 46,
        ["buyer"] = 209549,
        ["timestamp"] = 1691348275,
        ["guild"] = 4,
        ["seller"] = 4122,
    },
    [10] = 
    {
        ["id"] = "2172116149",
        ["wasKiosk"] = false,
        ["quant"] = 50,
        ["price"] = 7500,
        ["itemLink"] = 46,
        ["buyer"] = 209011,
        ["timestamp"] = 1691490267,
        ["guild"] = 2,
        ["seller"] = 16827,
    },
    [11] = 
    {
        ["id"] = "2174521043",
        ["wasKiosk"] = true,
        ["quant"] = 50,
        ["price"] = 7500,
        ["itemLink"] = 46,
        ["buyer"] = 29985,
        ["timestamp"] = 1691714902,
        ["guild"] = 2,
        ["seller"] = 16827,
    },
    [12] = 
    {
        ["id"] = "2171745791",
        ["wasKiosk"] = true,
        ["quant"] = 5,
        ["price"] = 1380,
        ["itemLink"] = 46,
        ["buyer"] = 208205,
        ["timestamp"] = 1691456201,
        ["guild"] = 5,
        ["seller"] = 15774,
    },
    [13] = 
    {
        ["id"] = "2173780805",
        ["wasKiosk"] = false,
        ["quant"] = 5,
        ["price"] = 1290,
        ["itemLink"] = 46,
        ["buyer"] = 27969,
        ["timestamp"] = 1691630925,
        ["guild"] = 5,
        ["seller"] = 15774,
    },
    [14] = 
    {
        ["id"] = "2173780809",
        ["wasKiosk"] = false,
        ["quant"] = 16,
        ["price"] = 4339,
        ["itemLink"] = 46,
        ["buyer"] = 27969,
        ["timestamp"] = 1691630925,
        ["guild"] = 5,
        ["seller"] = 3440,
    },
    [15] = 
    {
        ["id"] = "2173877221",
        ["wasKiosk"] = true,
        ["quant"] = 25,
        ["price"] = 4750,
        ["itemLink"] = 46,
        ["buyer"] = 210365,
        ["timestamp"] = 1691639326,
        ["guild"] = 4,
        ["seller"] = 107056,
    },
    [16] = 
    {
        ["id"] = "2173917867",
        ["wasKiosk"] = true,
        ["quant"] = 100,
        ["price"] = 23821,
        ["itemLink"] = 46,
        ["buyer"] = 189185,
        ["timestamp"] = 1691645078,
        ["guild"] = 5,
        ["seller"] = 4033,
    },
    [45] = 
    {
        ["id"] = "2157626567",
        ["wasKiosk"] = true,
        ["quant"] = 50,
        ["price"] = 5900,
        ["itemLink"] = 46,
        ["buyer"] = 27532,
        ["timestamp"] = 1690126391,
        ["guild"] = 2,
        ["seller"] = 16827,
    },
    [46] = 
    {
        ["id"] = "2132649301",
        ["wasKiosk"] = true,
        ["quant"] = 51,
        ["price"] = 6900,
        ["itemLink"] = 46,
        ["buyer"] = 11039,
        ["timestamp"] = 1686968951,
        ["guild"] = 2,
        ["seller"] = 16827,
    },
    [47] = 
    {
        ["id"] = "2133087259",
        ["wasKiosk"] = true,
        ["quant"] = 10,
        ["price"] = 1500,
        ["itemLink"] = 46,
        ["buyer"] = 101499,
        ["timestamp"] = 1687022182,
        ["guild"] = 2,
        ["seller"] = 21286,
    },
    [48] = 
    {
        ["id"] = "2133087263",
        ["wasKiosk"] = true,
        ["quant"] = 200,
        ["price"] = 33800,
        ["itemLink"] = 46,
        ["buyer"] = 101499,
        ["timestamp"] = 1687022183,
        ["guild"] = 2,
        ["seller"] = 192207,
    },
    [49] = 
    {
        ["id"] = "2133087265",
        ["wasKiosk"] = true,
        ["quant"] = 200,
        ["price"] = 33800,
        ["itemLink"] = 46,
        ["buyer"] = 101499,
        ["timestamp"] = 1687022184,
        ["guild"] = 2,
        ["seller"] = 192207,
    },
    [50] = 
    {
        ["id"] = "2133087267",
        ["wasKiosk"] = true,
        ["quant"] = 200,
        ["price"] = 33800,
        ["itemLink"] = 46,
        ["buyer"] = 101499,
        ["timestamp"] = 1687022184,
        ["guild"] = 2,
        ["seller"] = 192207,
    },
    [51] = 
    {
        ["id"] = "2133087269",
        ["wasKiosk"] = true,
        ["quant"] = 200,
        ["price"] = 33800,
        ["itemLink"] = 46,
        ["buyer"] = 101499,
        ["timestamp"] = 1687022185,
        ["guild"] = 2,
        ["seller"] = 192207,
    },
    [52] = 
    {
        ["id"] = "2133087273",
        ["wasKiosk"] = true,
        ["quant"] = 200,
        ["price"] = 33800,
        ["itemLink"] = 46,
        ["buyer"] = 101499,
        ["timestamp"] = 1687022186,
        ["guild"] = 2,
        ["seller"] = 192207,
    },
    [55] = 
    {
        ["id"] = "2131994883",
        ["wasKiosk"] = true,
        ["quant"] = 100,
        ["price"] = 13999,
        ["itemLink"] = 46,
        ["buyer"] = 185596,
        ["timestamp"] = 1686883409,
        ["guild"] = 4,
        ["seller"] = 3115,
    },
    [56] = 
    {
        ["id"] = "2131649879",
        ["wasKiosk"] = false,
        ["quant"] = 10,
        ["price"] = 1891,
        ["itemLink"] = 46,
        ["buyer"] = 108779,
        ["timestamp"] = 1686840411,
        ["guild"] = 8,
        ["seller"] = 27859,
    },
    [57] = 
    {
        ["id"] = "2131649945",
        ["wasKiosk"] = false,
        ["quant"] = 10,
        ["price"] = 2129,
        ["itemLink"] = 46,
        ["buyer"] = 108779,
        ["timestamp"] = 1686840416,
        ["guild"] = 8,
        ["seller"] = 3440,
    },
    [58] = 
    {
        ["id"] = "2131650083",
        ["wasKiosk"] = false,
        ["quant"] = 200,
        ["price"] = 41214,
        ["itemLink"] = 46,
        ["buyer"] = 108779,
        ["timestamp"] = 1686840440,
        ["guild"] = 8,
        ["seller"] = 3367,
    },
    [59] = 
    {
        ["id"] = "2131890227",
        ["wasKiosk"] = true,
        ["quant"] = 200,
        ["price"] = 30000,
        ["itemLink"] = 46,
        ["buyer"] = 33556,
        ["timestamp"] = 1686871169,
        ["guild"] = 8,
        ["seller"] = 18659,
    },
    [60] = 
    {
        ["id"] = "2131890239",
        ["wasKiosk"] = true,
        ["quant"] = 200,
        ["price"] = 30000,
        ["itemLink"] = 46,
        ["buyer"] = 33556,
        ["timestamp"] = 1686871169,
        ["guild"] = 8,
        ["seller"] = 17611,
    },
    [61] = 
    {
        ["id"] = "2132536321",
        ["wasKiosk"] = false,
        ["quant"] = 49,
        ["price"] = 8053,
        ["itemLink"] = 46,
        ["buyer"] = 3229,
        ["timestamp"] = 1686957335,
        ["guild"] = 4,
        ["seller"] = 55914,
    },
    [62] = 
    {
        ["id"] = "2132019461",
        ["wasKiosk"] = true,
        ["quant"] = 2,
        ["price"] = 599,
        ["itemLink"] = 46,
        ["buyer"] = 197707,
        ["timestamp"] = 1686886323,
        ["guild"] = 5,
        ["seller"] = 4379,
    },
    [63] = 
    {
        ["id"] = "2133325357",
        ["wasKiosk"] = true,
        ["quant"] = 25,
        ["price"] = 4125,
        ["itemLink"] = 46,
        ["buyer"] = 12252,
        ["timestamp"] = 1687046379,
        ["guild"] = 5,
        ["seller"] = 14831,
    },
    [64] = 
    {
        ["id"] = "2133325385",
        ["wasKiosk"] = true,
        ["quant"] = 26,
        ["price"] = 4550,
        ["itemLink"] = 46,
        ["buyer"] = 12252,
        ["timestamp"] = 1687046380,
        ["guild"] = 5,
        ["seller"] = 3849,
    },
    [65] = 
    {
        ["id"] = "2132040391",
        ["wasKiosk"] = false,
        ["quant"] = 200,
        ["price"] = 30000,
        ["itemLink"] = 46,
        ["buyer"] = 3376,
        ["timestamp"] = 1686888572,
        ["guild"] = 8,
        ["seller"] = 17611,
    },
    [66] = 
    {
        ["id"] = "2132850937",
        ["wasKiosk"] = false,
        ["quant"] = 10,
        ["price"] = 1788,
        ["itemLink"] = 46,
        ["buyer"] = 198086,
        ["timestamp"] = 1686997529,
        ["guild"] = 8,
        ["seller"] = 27859,
    },
    [67] = 
    {
        ["id"] = "2133362083",
        ["wasKiosk"] = false,
        ["quant"] = 200,
        ["price"] = 30000,
        ["itemLink"] = 46,
        ["buyer"] = 108779,
        ["timestamp"] = 1687050290,
        ["guild"] = 8,
        ["seller"] = 17611,
    },
    [68] = 
    {
        ["id"] = "2133362109",
        ["wasKiosk"] = false,
        ["quant"] = 200,
        ["price"] = 30000,
        ["itemLink"] = 46,
        ["buyer"] = 108779,
        ["timestamp"] = 1687050292,
        ["guild"] = 8,
        ["seller"] = 17611,
    },
    [69] = 
    {
        ["id"] = "2133362129",
        ["wasKiosk"] = false,
        ["quant"] = 200,
        ["price"] = 30000,
        ["itemLink"] = 46,
        ["buyer"] = 108779,
        ["timestamp"] = 1687050294,
        ["guild"] = 8,
        ["seller"] = 19792,
    },
    [70] = 
    {
        ["id"] = "2134304631",
        ["wasKiosk"] = true,
        ["quant"] = 200,
        ["price"] = 32918,
        ["itemLink"] = 46,
        ["buyer"] = 196337,
        ["timestamp"] = 1687154185,
        ["guild"] = 8,
        ["seller"] = 27873,
    },
    [71] = 
    {
        ["id"] = "2134304641",
        ["wasKiosk"] = true,
        ["quant"] = 200,
        ["price"] = 32918,
        ["itemLink"] = 46,
        ["buyer"] = 196337,
        ["timestamp"] = 1687154186,
        ["guild"] = 8,
        ["seller"] = 27873,
    },
    [72] = 
    {
        ["id"] = "2134304653",
        ["wasKiosk"] = true,
        ["quant"] = 200,
        ["price"] = 32918,
        ["itemLink"] = 46,
        ["buyer"] = 196337,
        ["timestamp"] = 1687154187,
        ["guild"] = 8,
        ["seller"] = 27873,
    },
    [73] = 
    {
        ["id"] = "2134304659",
        ["wasKiosk"] = true,
        ["quant"] = 200,
        ["price"] = 32918,
        ["itemLink"] = 46,
        ["buyer"] = 196337,
        ["timestamp"] = 1687154188,
        ["guild"] = 8,
        ["seller"] = 27873,
    },
    [74] = 
    {
        ["id"] = "2133702843",
        ["wasKiosk"] = true,
        ["quant"] = 14,
        ["price"] = 2450,
        ["itemLink"] = 46,
        ["buyer"] = 204246,
        ["timestamp"] = 1687094937,
        ["guild"] = 5,
        ["seller"] = 3849,
    },
    [75] = 
    {
        ["id"] = "2133702847",
        ["wasKiosk"] = true,
        ["quant"] = 10,
        ["price"] = 2000,
        ["itemLink"] = 46,
        ["buyer"] = 204246,
        ["timestamp"] = 1687094937,
        ["guild"] = 5,
        ["seller"] = 3311,
    },
    [76] = 
    {
        ["id"] = "2134481243",
        ["wasKiosk"] = false,
        ["quant"] = 100,
        ["price"] = 17500,
        ["itemLink"] = 46,
        ["buyer"] = 108779,
        ["timestamp"] = 1687190959,
        ["guild"] = 8,
        ["seller"] = 4740,
    },
    [77] = 
    {
        ["id"] = "2134481321",
        ["wasKiosk"] = false,
        ["quant"] = 200,
        ["price"] = 32918,
        ["itemLink"] = 46,
        ["buyer"] = 108779,
        ["timestamp"] = 1687190966,
        ["guild"] = 8,
        ["seller"] = 27873,
    },
    [78] = 
    {
        ["id"] = "2135149331",
        ["wasKiosk"] = true,
        ["quant"] = 200,
        ["price"] = 38102,
        ["itemLink"] = 46,
        ["buyer"] = 193883,
        ["timestamp"] = 1687271334,
        ["guild"] = 8,
        ["seller"] = 27893,
    },
    [79] = 
    {
        ["id"] = "2135471529",
        ["wasKiosk"] = true,
        ["quant"] = 200,
        ["price"] = 30000,
        ["itemLink"] = 46,
        ["buyer"] = 204897,
        ["timestamp"] = 1687307789,
        ["guild"] = 8,
        ["seller"] = 3398,
    },
    [80] = 
    {
        ["id"] = "2136154763",
        ["wasKiosk"] = false,
        ["quant"] = 20,
        ["price"] = 2711,
        ["itemLink"] = 46,
        ["buyer"] = 26472,
        ["timestamp"] = 1687389580,
        ["guild"] = 8,
        ["seller"] = 4499,
    },
    [81] = 
    {
        ["id"] = "2134203321",
        ["wasKiosk"] = true,
        ["quant"] = 200,
        ["price"] = 37800,
        ["itemLink"] = 46,
        ["buyer"] = 19641,
        ["timestamp"] = 1687141632,
        ["guild"] = 5,
        ["seller"] = 4046,
    },
    [82] = 
    {
        ["id"] = "2136267203",
        ["wasKiosk"] = false,
        ["quant"] = 20,
        ["price"] = 2711,
        ["itemLink"] = 46,
        ["buyer"] = 108779,
        ["timestamp"] = 1687400798,
        ["guild"] = 8,
        ["seller"] = 4499,
    },
    [83] = 
    {
        ["id"] = "2136267435",
        ["wasKiosk"] = false,
        ["quant"] = 200,
        ["price"] = 38800,
        ["itemLink"] = 46,
        ["buyer"] = 108779,
        ["timestamp"] = 1687400816,
        ["guild"] = 8,
        ["seller"] = 6518,
    },
    [84] = 
    {
        ["id"] = "2136365085",
        ["wasKiosk"] = false,
        ["quant"] = 50,
        ["price"] = 9500,
        ["itemLink"] = 46,
        ["buyer"] = 7767,
        ["timestamp"] = 1687412964,
        ["guild"] = 8,
        ["seller"] = 10441,
    },
    [85] = 
    {
        ["id"] = "2136931963",
        ["wasKiosk"] = true,
        ["quant"] = 30,
        ["price"] = 4100,
        ["itemLink"] = 46,
        ["buyer"] = 202864,
        ["timestamp"] = 1687489287,
        ["guild"] = 2,
        ["seller"] = 16827,
    },
    [86] = 
    {
        ["id"] = "2137990263",
        ["wasKiosk"] = true,
        ["quant"] = 50,
        ["price"] = 6900,
        ["itemLink"] = 46,
        ["buyer"] = 205055,
        ["timestamp"] = 1687627648,
        ["guild"] = 2,
        ["seller"] = 16827,
    },
    [87] = 
    {
        ["id"] = "2136973403",
        ["wasKiosk"] = true,
        ["quant"] = 200,
        ["price"] = 30000,
        ["itemLink"] = 46,
        ["buyer"] = 4796,
        ["timestamp"] = 1687495563,
        ["guild"] = 8,
        ["seller"] = 18659,
    },
    [88] = 
    {
        ["id"] = "2137729895",
        ["wasKiosk"] = true,
        ["quant"] = 10,
        ["price"] = 1706,
        ["itemLink"] = 46,
        ["buyer"] = 205205,
        ["timestamp"] = 1687599024,
        ["guild"] = 8,
        ["seller"] = 27859,
    },
    [89] = 
    {
        ["id"] = "2138680801",
        ["wasKiosk"] = false,
        ["quant"] = 200,
        ["price"] = 30000,
        ["itemLink"] = 46,
        ["buyer"] = 201720,
        ["timestamp"] = 1687708897,
        ["guild"] = 8,
        ["seller"] = 19792,
    },
    [90] = 
    {
        ["id"] = "2139146541",
        ["wasKiosk"] = true,
        ["quant"] = 200,
        ["price"] = 40000,
        ["itemLink"] = 46,
        ["buyer"] = 60890,
        ["timestamp"] = 1687757143,
        ["guild"] = 8,
        ["seller"] = 5885,
    },
    [91] = 
    {
        ["id"] = "2139322517",
        ["wasKiosk"] = false,
        ["quant"] = 200,
        ["price"] = 57000,
        ["itemLink"] = 46,
        ["buyer"] = 96369,
        ["timestamp"] = 1687793210,
        ["guild"] = 8,
        ["seller"] = 203331,
    },
    [92] = 
    {
        ["id"] = "2134811359",
        ["wasKiosk"] = true,
        ["quant"] = 15,
        ["price"] = 2250,
        ["itemLink"] = 46,
        ["buyer"] = 202731,
        ["timestamp"] = 1687224200,
        ["guild"] = 4,
        ["seller"] = 49856,
    },
    [93] = 
    {
        ["id"] = "2135639793",
        ["wasKiosk"] = false,
        ["quant"] = 50,
        ["price"] = 7500,
        ["itemLink"] = 46,
        ["buyer"] = 8977,
        ["timestamp"] = 1687324336,
        ["guild"] = 4,
        ["seller"] = 3178,
    },
    [94] = 
    {
        ["id"] = "2135639819",
        ["wasKiosk"] = false,
        ["quant"] = 100,
        ["price"] = 15000,
        ["itemLink"] = 46,
        ["buyer"] = 8977,
        ["timestamp"] = 1687324337,
        ["guild"] = 4,
        ["seller"] = 5694,
    },
    [95] = 
    {
        ["id"] = "2135639837",
        ["wasKiosk"] = false,
        ["quant"] = 100,
        ["price"] = 16900,
        ["itemLink"] = 46,
        ["buyer"] = 8977,
        ["timestamp"] = 1687324338,
        ["guild"] = 4,
        ["seller"] = 4122,
    },
    [96] = 
    {
        ["id"] = "2135639849",
        ["wasKiosk"] = false,
        ["quant"] = 100,
        ["price"] = 17999,
        ["itemLink"] = 46,
        ["buyer"] = 8977,
        ["timestamp"] = 1687324339,
        ["guild"] = 4,
        ["seller"] = 194470,
    },
    [97] = 
    {
        ["id"] = "2135939437",
        ["wasKiosk"] = true,
        ["quant"] = 100,
        ["price"] = 17999,
        ["itemLink"] = 46,
        ["buyer"] = 132261,
        ["timestamp"] = 1687364853,
        ["guild"] = 4,
        ["seller"] = 194470,
    },
    [98] = 
    {
        ["id"] = "2137567087",
        ["wasKiosk"] = false,
        ["quant"] = 200,
        ["price"] = 30000,
        ["itemLink"] = 46,
        ["buyer"] = 8977,
        ["timestamp"] = 1687573138,
        ["guild"] = 4,
        ["seller"] = 14338,
    },
    [99] = 
    {
        ["id"] = "2153545915",
        ["wasKiosk"] = false,
        ["quant"] = 35,
        ["price"] = 7175,
        ["itemLink"] = 46,
        ["buyer"] = 4183,
        ["timestamp"] = 1689589808,
        ["guild"] = 4,
        ["seller"] = 5113,
    },
    [100] = 
    {
        ["id"] = "2153545927",
        ["wasKiosk"] = false,
        ["quant"] = 100,
        ["price"] = 17500,
        ["itemLink"] = 46,
        ["buyer"] = 4183,
        ["timestamp"] = 1689589810,
        ["guild"] = 4,
        ["seller"] = 11775,
    },
    [101] = 
    {
        ["id"] = "2153235453",
        ["wasKiosk"] = true,
        ["quant"] = 12,
        ["price"] = 2200,
        ["itemLink"] = 46,
        ["buyer"] = 29475,
        ["timestamp"] = 1689547513,
        ["guild"] = 5,
        ["seller"] = 82692,
    },
    [102] = 
    {
        ["id"] = "2153235465",
        ["wasKiosk"] = true,
        ["quant"] = 200,
        ["price"] = 36677,
        ["itemLink"] = 46,
        ["buyer"] = 29475,
        ["timestamp"] = 1689547514,
        ["guild"] = 5,
        ["seller"] = 100403,
    },
    [103] = 
    {
        ["id"] = "2153235477",
        ["wasKiosk"] = true,
        ["quant"] = 200,
        ["price"] = 44400,
        ["itemLink"] = 46,
        ["buyer"] = 29475,
        ["timestamp"] = 1689547515,
        ["guild"] = 5,
        ["seller"] = 80189,
    },
    [104] = 
    {
        ["id"] = "2153235479",
        ["wasKiosk"] = true,
        ["quant"] = 200,
        ["price"] = 44400,
        ["itemLink"] = 46,
        ["buyer"] = 29475,
        ["timestamp"] = 1689547516,
        ["guild"] = 5,
        ["seller"] = 80189,
    },
    [105] = 
    {
        ["id"] = "2155354719",
        ["wasKiosk"] = false,
        ["quant"] = 200,
        ["price"] = 28800,
        ["itemLink"] = 46,
        ["buyer"] = 22883,
        ["timestamp"] = 1689829008,
        ["guild"] = 4,
        ["seller"] = 119919,
    },
    [106] = 
    {
        ["id"] = "2155354739",
        ["wasKiosk"] = false,
        ["quant"] = 200,
        ["price"] = 33000,
        ["itemLink"] = 46,
        ["buyer"] = 22883,
        ["timestamp"] = 1689829010,
        ["guild"] = 4,
        ["seller"] = 74640,
    },
    [107] = 
    {
        ["id"] = "2155354757",
        ["wasKiosk"] = false,
        ["quant"] = 100,
        ["price"] = 17500,
        ["itemLink"] = 46,
        ["buyer"] = 22883,
        ["timestamp"] = 1689829013,
        ["guild"] = 4,
        ["seller"] = 11775,
    },
    [108] = 
    {
        ["id"] = "2155961909",
        ["wasKiosk"] = true,
        ["quant"] = 200,
        ["price"] = 40000,
        ["itemLink"] = 46,
        ["buyer"] = 194608,
        ["timestamp"] = 1689918920,
        ["guild"] = 4,
        ["seller"] = 3172,
    },
    [109] = 
    {
        ["id"] = "2155961923",
        ["wasKiosk"] = true,
        ["quant"] = 200,
        ["price"] = 40000,
        ["itemLink"] = 46,
        ["buyer"] = 194608,
        ["timestamp"] = 1689918922,
        ["guild"] = 4,
        ["seller"] = 3172,
    },
    [110] = 
    {
        ["id"] = "2154596755",
        ["wasKiosk"] = true,
        ["quant"] = 4,
        ["price"] = 725,
        ["itemLink"] = 46,
        ["buyer"] = 148694,
        ["timestamp"] = 1689726650,
        ["guild"] = 5,
        ["seller"] = 3849,
    },
    [111] = 
    {
        ["id"] = "2154596767",
        ["wasKiosk"] = true,
        ["quant"] = 100,
        ["price"] = 20000,
        ["itemLink"] = 46,
        ["buyer"] = 148694,
        ["timestamp"] = 1689726651,
        ["guild"] = 5,
        ["seller"] = 3288,
    },
    [112] = 
    {
        ["id"] = "2154596775",
        ["wasKiosk"] = true,
        ["quant"] = 50,
        ["price"] = 40000,
        ["itemLink"] = 46,
        ["buyer"] = 148694,
        ["timestamp"] = 1689726652,
        ["guild"] = 5,
        ["seller"] = 96829,
    },
    [113] = 
    {
        ["id"] = "2155139011",
        ["wasKiosk"] = true,
        ["quant"] = 200,
        ["price"] = 36850,
        ["itemLink"] = 46,
        ["buyer"] = 196990,
        ["timestamp"] = 1689804729,
        ["guild"] = 5,
        ["seller"] = 3697,
    },
    [114] = 
    {
        ["id"] = "2155666537",
        ["wasKiosk"] = true,
        ["quant"] = 25,
        ["price"] = 5625,
        ["itemLink"] = 46,
        ["buyer"] = 208193,
        ["timestamp"] = 1689879624,
        ["guild"] = 5,
        ["seller"] = 14831,
    },
    [115] = 
    {
        ["id"] = "2155666545",
        ["wasKiosk"] = true,
        ["quant"] = 25,
        ["price"] = 5625,
        ["itemLink"] = 46,
        ["buyer"] = 208193,
        ["timestamp"] = 1689879626,
        ["guild"] = 5,
        ["seller"] = 14831,
    },
    [116] = 
    {
        ["id"] = "2155794451",
        ["wasKiosk"] = true,
        ["quant"] = 25,
        ["price"] = 5625,
        ["itemLink"] = 46,
        ["buyer"] = 207731,
        ["timestamp"] = 1689897404,
        ["guild"] = 5,
        ["seller"] = 14831,
    },
    [117] = 
    {
        ["id"] = "2157801423",
        ["wasKiosk"] = true,
        ["quant"] = 30,
        ["price"] = 4800,
        ["itemLink"] = 46,
        ["buyer"] = 207647,
        ["timestamp"] = 1690141626,
        ["guild"] = 5,
        ["seller"] = 3353,
    },
    [118] = 
    {
        ["id"] = "2157801499",
        ["wasKiosk"] = true,
        ["quant"] = 5,
        ["price"] = 1298,
        ["itemLink"] = 46,
        ["buyer"] = 207647,
        ["timestamp"] = 1690141634,
        ["guild"] = 5,
        ["seller"] = 15774,
    },
    [119] = 
    {
        ["id"] = "2157801507",
        ["wasKiosk"] = true,
        ["quant"] = 5,
        ["price"] = 1297,
        ["itemLink"] = 46,
        ["buyer"] = 207647,
        ["timestamp"] = 1690141635,
        ["guild"] = 5,
        ["seller"] = 15774,
    },
    [120] = 
    {
        ["id"] = "2157801529",
        ["wasKiosk"] = true,
        ["quant"] = 7,
        ["price"] = 1749,
        ["itemLink"] = 46,
        ["buyer"] = 207647,
        ["timestamp"] = 1690141638,
        ["guild"] = 5,
        ["seller"] = 4379,
    },
    [121] = 
    {
        ["id"] = "2157346257",
        ["wasKiosk"] = true,
        ["quant"] = 100,
        ["price"] = 19000,
        ["itemLink"] = 46,
        ["buyer"] = 114628,
        ["timestamp"] = 1690092319,
        ["guild"] = 4,
        ["seller"] = 40045,
    },
    [122] = 
    {
        ["id"] = "2157742119",
        ["wasKiosk"] = true,
        ["quant"] = 200,
        ["price"] = 40000,
        ["itemLink"] = 46,
        ["buyer"] = 208384,
        ["timestamp"] = 1690136142,
        ["guild"] = 4,
        ["seller"] = 3436,
    },
    [123] = 
    {
        ["id"] = "2157742525",
        ["wasKiosk"] = true,
        ["quant"] = 200,
        ["price"] = 41400,
        ["itemLink"] = 46,
        ["buyer"] = 208384,
        ["timestamp"] = 1690136195,
        ["guild"] = 4,
        ["seller"] = 5660,
    },
    [124] = 
    {
        ["id"] = "2164229431",
        ["wasKiosk"] = true,
        ["quant"] = 50,
        ["price"] = 10000,
        ["itemLink"] = 46,
        ["buyer"] = 18764,
        ["timestamp"] = 1690763316,
        ["guild"] = 4,
        ["seller"] = 104783,
    },
    [125] = 
    {
        ["id"] = "2166309449",
        ["wasKiosk"] = true,
        ["quant"] = 50,
        ["price"] = 6700,
        ["itemLink"] = 46,
        ["buyer"] = 12819,
        ["timestamp"] = 1690983836,
        ["guild"] = 2,
        ["seller"] = 16827,
    },
    [126] = 
    {
        ["id"] = "2168618731",
        ["wasKiosk"] = false,
        ["quant"] = 10,
        ["price"] = 1500,
        ["itemLink"] = 46,
        ["buyer"] = 2439,
        ["timestamp"] = 1691194437,
        ["guild"] = 2,
        ["seller"] = 21286,
    },
    [127] = 
    {
        ["id"] = "2164518485",
        ["wasKiosk"] = false,
        ["quant"] = 100,
        ["price"] = 24989,
        ["itemLink"] = 46,
        ["buyer"] = 24858,
        ["timestamp"] = 1690794081,
        ["guild"] = 5,
        ["seller"] = 4140,
    },
    [128] = 
    {
        ["id"] = "2168825233",
        ["wasKiosk"] = true,
        ["quant"] = 49,
        ["price"] = 8183,
        ["itemLink"] = 46,
        ["buyer"] = 207002,
        ["timestamp"] = 1691208744,
        ["guild"] = 4,
        ["seller"] = 5718,
    },
    [158] = 
    {
        ["id"] = "2137567101",
        ["wasKiosk"] = false,
        ["quant"] = 200,
        ["price"] = 30000,
        ["itemLink"] = 46,
        ["buyer"] = 8977,
        ["timestamp"] = 1687573139,
        ["guild"] = 4,
        ["seller"] = 14338,
    },
    [159] = 
    {
        ["id"] = "2134972125",
        ["wasKiosk"] = true,
        ["quant"] = 25,
        ["price"] = 3875,
        ["itemLink"] = 46,
        ["buyer"] = 205603,
        ["timestamp"] = 1687243041,
        ["guild"] = 5,
        ["seller"] = 14831,
    },
    [160] = 
    {
        ["id"] = "2135606687",
        ["wasKiosk"] = true,
        ["quant"] = 25,
        ["price"] = 3875,
        ["itemLink"] = 46,
        ["buyer"] = 114628,
        ["timestamp"] = 1687320246,
        ["guild"] = 5,
        ["seller"] = 14831,
    },
    [161] = 
    {
        ["id"] = "2135606693",
        ["wasKiosk"] = true,
        ["quant"] = 25,
        ["price"] = 4000,
        ["itemLink"] = 46,
        ["buyer"] = 114628,
        ["timestamp"] = 1687320248,
        ["guild"] = 5,
        ["seller"] = 3876,
    },
    [162] = 
    {
        ["id"] = "2135606709",
        ["wasKiosk"] = true,
        ["quant"] = 8,
        ["price"] = 1400,
        ["itemLink"] = 46,
        ["buyer"] = 114628,
        ["timestamp"] = 1687320250,
        ["guild"] = 5,
        ["seller"] = 3849,
    },
    [163] = 
    {
        ["id"] = "2136012669",
        ["wasKiosk"] = false,
        ["quant"] = 200,
        ["price"] = 38679,
        ["itemLink"] = 46,
        ["buyer"] = 3125,
        ["timestamp"] = 1687373491,
        ["guild"] = 5,
        ["seller"] = 3697,
    },
    [164] = 
    {
        ["id"] = "2136012673",
        ["wasKiosk"] = false,
        ["quant"] = 8,
        ["price"] = 1624,
        ["itemLink"] = 46,
        ["buyer"] = 3125,
        ["timestamp"] = 1687373491,
        ["guild"] = 5,
        ["seller"] = 3440,
    },
    [165] = 
    {
        ["id"] = "2136012677",
        ["wasKiosk"] = false,
        ["quant"] = 5,
        ["price"] = 1267,
        ["itemLink"] = 46,
        ["buyer"] = 3125,
        ["timestamp"] = 1687373492,
        ["guild"] = 5,
        ["seller"] = 15774,
    },
    [166] = 
    {
        ["id"] = "2136012679",
        ["wasKiosk"] = false,
        ["quant"] = 5,
        ["price"] = 1270,
        ["itemLink"] = 46,
        ["buyer"] = 3125,
        ["timestamp"] = 1687373492,
        ["guild"] = 5,
        ["seller"] = 15774,
    },
    [167] = 
    {
        ["id"] = "2136012683",
        ["wasKiosk"] = false,
        ["quant"] = 6,
        ["price"] = 1645,
        ["itemLink"] = 46,
        ["buyer"] = 3125,
        ["timestamp"] = 1687373493,
        ["guild"] = 5,
        ["seller"] = 4379,
    },
    [168] = 
    {
        ["id"] = "2136012691",
        ["wasKiosk"] = false,
        ["quant"] = 5,
        ["price"] = 1371,
        ["itemLink"] = 46,
        ["buyer"] = 3125,
        ["timestamp"] = 1687373493,
        ["guild"] = 5,
        ["seller"] = 15774,
    },
    [169] = 
    {
        ["id"] = "2136012701",
        ["wasKiosk"] = false,
        ["quant"] = 5,
        ["price"] = 1379,
        ["itemLink"] = 46,
        ["buyer"] = 3125,
        ["timestamp"] = 1687373494,
        ["guild"] = 5,
        ["seller"] = 15774,
    },
    [170] = 
    {
        ["id"] = "2136362819",
        ["wasKiosk"] = true,
        ["quant"] = 200,
        ["price"] = 100000,
        ["itemLink"] = 46,
        ["buyer"] = 60997,
        ["timestamp"] = 1687412478,
        ["guild"] = 5,
        ["seller"] = 3125,
    },
    [171] = 
    {
        ["id"] = "2136956007",
        ["wasKiosk"] = false,
        ["quant"] = 25,
        ["price"] = 4375,
        ["itemLink"] = 46,
        ["buyer"] = 3376,
        ["timestamp"] = 1687492187,
        ["guild"] = 5,
        ["seller"] = 14831,
    },
    [172] = 
    {
        ["id"] = "2136956015",
        ["wasKiosk"] = false,
        ["quant"] = 25,
        ["price"] = 4375,
        ["itemLink"] = 46,
        ["buyer"] = 3376,
        ["timestamp"] = 1687492187,
        ["guild"] = 5,
        ["seller"] = 14831,
    },
    [173] = 
    {
        ["id"] = "2138240721",
        ["wasKiosk"] = true,
        ["quant"] = 200,
        ["price"] = 44400,
        ["itemLink"] = 46,
        ["buyer"] = 20123,
        ["timestamp"] = 1687653844,
        ["guild"] = 5,
        ["seller"] = 5354,
    },
    [174] = 
    {
        ["id"] = "2138892751",
        ["wasKiosk"] = true,
        ["quant"] = 7,
        ["price"] = 1350,
        ["itemLink"] = 46,
        ["buyer"] = 204493,
        ["timestamp"] = 1687729619,
        ["guild"] = 5,
        ["seller"] = 3849,
    },
    [175] = 
    {
        ["id"] = "2139712407",
        ["wasKiosk"] = true,
        ["quant"] = 200,
        ["price"] = 30000,
        ["itemLink"] = 46,
        ["buyer"] = 204887,
        ["timestamp"] = 1687836314,
        ["guild"] = 8,
        ["seller"] = 18659,
    },
    [176] = 
    {
        ["id"] = "2140149709",
        ["wasKiosk"] = true,
        ["quant"] = 10,
        ["price"] = 1702,
        ["itemLink"] = 46,
        ["buyer"] = 27412,
        ["timestamp"] = 1687895548,
        ["guild"] = 8,
        ["seller"] = 27859,
    },
    [177] = 
    {
        ["id"] = "2140221617",
        ["wasKiosk"] = true,
        ["quant"] = 200,
        ["price"] = 34800,
        ["itemLink"] = 46,
        ["buyer"] = 148694,
        ["timestamp"] = 1687903499,
        ["guild"] = 8,
        ["seller"] = 26028,
    },
    [178] = 
    {
        ["id"] = "2140305489",
        ["wasKiosk"] = true,
        ["quant"] = 20,
        ["price"] = 2711,
        ["itemLink"] = 46,
        ["buyer"] = 199476,
        ["timestamp"] = 1687913550,
        ["guild"] = 8,
        ["seller"] = 4499,
    },
    [179] = 
    {
        ["id"] = "2140366929",
        ["wasKiosk"] = false,
        ["quant"] = 200,
        ["price"] = 44313,
        ["itemLink"] = 46,
        ["buyer"] = 3376,
        ["timestamp"] = 1687919574,
        ["guild"] = 8,
        ["seller"] = 79977,
    },
    [180] = 
    {
        ["id"] = "2140366933",
        ["wasKiosk"] = false,
        ["quant"] = 200,
        ["price"] = 44313,
        ["itemLink"] = 46,
        ["buyer"] = 3376,
        ["timestamp"] = 1687919574,
        ["guild"] = 8,
        ["seller"] = 79977,
    },
    [181] = 
    {
        ["id"] = "2141813937",
        ["wasKiosk"] = true,
        ["quant"] = 50,
        ["price"] = 38000,
        ["itemLink"] = 46,
        ["buyer"] = 206155,
        ["timestamp"] = 1688131118,
        ["guild"] = 5,
        ["seller"] = 24858,
    },
    [182] = 
    {
        ["id"] = "2141813947",
        ["wasKiosk"] = true,
        ["quant"] = 50,
        ["price"] = 38000,
        ["itemLink"] = 46,
        ["buyer"] = 206155,
        ["timestamp"] = 1688131120,
        ["guild"] = 5,
        ["seller"] = 24858,
    },
    [183] = 
    {
        ["id"] = "2141813955",
        ["wasKiosk"] = true,
        ["quant"] = 50,
        ["price"] = 38000,
        ["itemLink"] = 46,
        ["buyer"] = 206155,
        ["timestamp"] = 1688131121,
        ["guild"] = 5,
        ["seller"] = 24858,
    },
    [184] = 
    {
        ["id"] = "2140899541",
        ["wasKiosk"] = true,
        ["quant"] = 200,
        ["price"] = 30000,
        ["itemLink"] = 46,
        ["buyer"] = 199551,
        ["timestamp"] = 1687997795,
        ["guild"] = 8,
        ["seller"] = 3398,
    },
    [185] = 
    {
        ["id"] = "2142124855",
        ["wasKiosk"] = true,
        ["quant"] = 25,
        ["price"] = 4000,
        ["itemLink"] = 46,
        ["buyer"] = 202955,
        ["timestamp"] = 1688170019,
        ["guild"] = 5,
        ["seller"] = 3876,
    },
    [186] = 
    {
        ["id"] = "2141369175",
        ["wasKiosk"] = false,
        ["quant"] = 200,
        ["price"] = 28000,
        ["itemLink"] = 46,
        ["buyer"] = 12241,
        ["timestamp"] = 1688063030,
        ["guild"] = 4,
        ["seller"] = 9143,
    },
    [187] = 
    {
        ["id"] = "2141369193",
        ["wasKiosk"] = false,
        ["quant"] = 200,
        ["price"] = 28000,
        ["itemLink"] = 46,
        ["buyer"] = 12241,
        ["timestamp"] = 1688063031,
        ["guild"] = 4,
        ["seller"] = 9143,
    },
    [188] = 
    {
        ["id"] = "2141369203",
        ["wasKiosk"] = false,
        ["quant"] = 200,
        ["price"] = 28000,
        ["itemLink"] = 46,
        ["buyer"] = 12241,
        ["timestamp"] = 1688063032,
        ["guild"] = 4,
        ["seller"] = 9143,
    },
    [189] = 
    {
        ["id"] = "2141600767",
        ["wasKiosk"] = true,
        ["quant"] = 200,
        ["price"] = 41528,
        ["itemLink"] = 46,
        ["buyer"] = 205957,
        ["timestamp"] = 1688092841,
        ["guild"] = 4,
        ["seller"] = 96499,
    },
    [190] = 
    {
        ["id"] = "2142980707",
        ["wasKiosk"] = true,
        ["quant"] = 200,
        ["price"] = 44200,
        ["itemLink"] = 46,
        ["buyer"] = 131731,
        ["timestamp"] = 1688270120,
        ["guild"] = 5,
        ["seller"] = 3125,
    },
    [191] = 
    {
        ["id"] = "2143031771",
        ["wasKiosk"] = true,
        ["quant"] = 200,
        ["price"] = 44400,
        ["itemLink"] = 46,
        ["buyer"] = 204319,
        ["timestamp"] = 1688275884,
        ["guild"] = 5,
        ["seller"] = 5354,
    },
    [192] = 
    {
        ["id"] = "2141707049",
        ["wasKiosk"] = false,
        ["quant"] = 100,
        ["price"] = 15000,
        ["itemLink"] = 46,
        ["buyer"] = 12241,
        ["timestamp"] = 1688109490,
        ["guild"] = 4,
        ["seller"] = 5694,
    },
    [193] = 
    {
        ["id"] = "2141999795",
        ["wasKiosk"] = false,
        ["quant"] = 50,
        ["price"] = 4500,
        ["itemLink"] = 46,
        ["buyer"] = 4122,
        ["timestamp"] = 1688154770,
        ["guild"] = 4,
        ["seller"] = 206355,
    },
    [194] = 
    {
        ["id"] = "2142804019",
        ["wasKiosk"] = false,
        ["quant"] = 200,
        ["price"] = 30000,
        ["itemLink"] = 46,
        ["buyer"] = 3376,
        ["timestamp"] = 1688252783,
        ["guild"] = 8,
        ["seller"] = 18659,
    },
    [195] = 
    {
        ["id"] = "2142841671",
        ["wasKiosk"] = true,
        ["quant"] = 200,
        ["price"] = 31000,
        ["itemLink"] = 46,
        ["buyer"] = 36595,
        ["timestamp"] = 1688256334,
        ["guild"] = 8,
        ["seller"] = 105668,
    },
    [196] = 
    {
        ["id"] = "2142841711",
        ["wasKiosk"] = true,
        ["quant"] = 200,
        ["price"] = 33800,
        ["itemLink"] = 46,
        ["buyer"] = 36595,
        ["timestamp"] = 1688256336,
        ["guild"] = 8,
        ["seller"] = 26028,
    },
    [197] = 
    {
        ["id"] = "2143168397",
        ["wasKiosk"] = true,
        ["quant"] = 21,
        ["price"] = 2835,
        ["itemLink"] = 46,
        ["buyer"] = 8990,
        ["timestamp"] = 1688299550,
        ["guild"] = 5,
        ["seller"] = 3555,
    },
    [198] = 
    {
        ["id"] = "2143170237",
        ["wasKiosk"] = true,
        ["quant"] = 50,
        ["price"] = 6600,
        ["itemLink"] = 46,
        ["buyer"] = 204124,
        ["timestamp"] = 1688299831,
        ["guild"] = 2,
        ["seller"] = 16827,
    },
    [199] = 
    {
        ["id"] = "2143170723",
        ["wasKiosk"] = true,
        ["quant"] = 50,
        ["price"] = 7350,
        ["itemLink"] = 46,
        ["buyer"] = 204124,
        ["timestamp"] = 1688299909,
        ["guild"] = 2,
        ["seller"] = 4832,
    },
    [200] = 
    {
        ["id"] = "2143171451",
        ["wasKiosk"] = true,
        ["quant"] = 10,
        ["price"] = 1500,
        ["itemLink"] = 46,
        ["buyer"] = 204124,
        ["timestamp"] = 1688300057,
        ["guild"] = 2,
        ["seller"] = 21286,
    },
    [201] = 
    {
        ["id"] = "2143171537",
        ["wasKiosk"] = true,
        ["quant"] = 15,
        ["price"] = 2625,
        ["itemLink"] = 46,
        ["buyer"] = 204124,
        ["timestamp"] = 1688300068,
        ["guild"] = 2,
        ["seller"] = 16846,
    },
    [202] = 
    {
        ["id"] = "2144263299",
        ["wasKiosk"] = true,
        ["quant"] = 5,
        ["price"] = 1300,
        ["itemLink"] = 46,
        ["buyer"] = 148694,
        ["timestamp"] = 1688425719,
        ["guild"] = 5,
        ["seller"] = 15774,
    },
    [203] = 
    {
        ["id"] = "2144263301",
        ["wasKiosk"] = true,
        ["quant"] = 5,
        ["price"] = 1323,
        ["itemLink"] = 46,
        ["buyer"] = 148694,
        ["timestamp"] = 1688425721,
        ["guild"] = 5,
        ["seller"] = 15774,
    },
    [204] = 
    {
        ["id"] = "2144263305",
        ["wasKiosk"] = true,
        ["quant"] = 200,
        ["price"] = 65939,
        ["itemLink"] = 46,
        ["buyer"] = 148694,
        ["timestamp"] = 1688425721,
        ["guild"] = 5,
        ["seller"] = 191230,
    },
    [205] = 
    {
        ["id"] = "2144263309",
        ["wasKiosk"] = true,
        ["quant"] = 124,
        ["price"] = 40883,
        ["itemLink"] = 46,
        ["buyer"] = 148694,
        ["timestamp"] = 1688425722,
        ["guild"] = 5,
        ["seller"] = 191230,
    },
    [206] = 
    {
        ["id"] = "2144263315",
        ["wasKiosk"] = true,
        ["quant"] = 50,
        ["price"] = 38000,
        ["itemLink"] = 46,
        ["buyer"] = 148694,
        ["timestamp"] = 1688425723,
        ["guild"] = 5,
        ["seller"] = 24858,
    },
    [207] = 
    {
        ["id"] = "2144263321",
        ["wasKiosk"] = true,
        ["quant"] = 50,
        ["price"] = 38000,
        ["itemLink"] = 46,
        ["buyer"] = 148694,
        ["timestamp"] = 1688425725,
        ["guild"] = 5,
        ["seller"] = 24858,
    },
    [208] = 
    {
        ["id"] = "2144848769",
        ["wasKiosk"] = true,
        ["quant"] = 200,
        ["price"] = 39050,
        ["itemLink"] = 46,
        ["buyer"] = 206300,
        ["timestamp"] = 1688496206,
        ["guild"] = 5,
        ["seller"] = 3163,
    },
    [209] = 
    {
        ["id"] = "2148283927",
        ["wasKiosk"] = true,
        ["quant"] = 50,
        ["price"] = 5500,
        ["itemLink"] = 46,
        ["buyer"] = 188076,
        ["timestamp"] = 1688920602,
        ["guild"] = 2,
        ["seller"] = 16827,
    },
    [210] = 
    {
        ["id"] = "2145261551",
        ["wasKiosk"] = false,
        ["quant"] = 25,
        ["price"] = 4375,
        ["itemLink"] = 46,
        ["buyer"] = 24858,
        ["timestamp"] = 1688546262,
        ["guild"] = 5,
        ["seller"] = 14831,
    },
    [211] = 
    {
        ["id"] = "2145501717",
        ["wasKiosk"] = false,
        ["quant"] = 200,
        ["price"] = 47000,
        ["itemLink"] = 46,
        ["buyer"] = 13823,
        ["timestamp"] = 1688580188,
        ["guild"] = 5,
        ["seller"] = 80189,
    },
    [212] = 
    {
        ["id"] = "2143527189",
        ["wasKiosk"] = false,
        ["quant"] = 200,
        ["price"] = 28000,
        ["itemLink"] = 46,
        ["buyer"] = 205482,
        ["timestamp"] = 1688333269,
        ["guild"] = 4,
        ["seller"] = 5718,
    },
    [213] = 
    {
        ["id"] = "2147032411",
        ["wasKiosk"] = false,
        ["quant"] = 25,
        ["price"] = 4000,
        ["itemLink"] = 46,
        ["buyer"] = 13823,
        ["timestamp"] = 1688778314,
        ["guild"] = 5,
        ["seller"] = 3876,
    },
    [214] = 
    {
        ["id"] = "2148773077",
        ["wasKiosk"] = true,
        ["quant"] = 5,
        ["price"] = 400,
        ["itemLink"] = 46,
        ["buyer"] = 199591,
        ["timestamp"] = 1688970160,
        ["guild"] = 5,
        ["seller"] = 3849,
    },
    [215] = 
    {
        ["id"] = "2149050275",
        ["wasKiosk"] = true,
        ["quant"] = 25,
        ["price"] = 4375,
        ["itemLink"] = 46,
        ["buyer"] = 42935,
        ["timestamp"] = 1689009396,
        ["guild"] = 5,
        ["seller"] = 14831,
    },
    [216] = 
    {
        ["id"] = "2149050279",
        ["wasKiosk"] = true,
        ["quant"] = 25,
        ["price"] = 4375,
        ["itemLink"] = 46,
        ["buyer"] = 42935,
        ["timestamp"] = 1689009398,
        ["guild"] = 5,
        ["seller"] = 14831,
    },
    [217] = 
    {
        ["id"] = "2149054815",
        ["wasKiosk"] = true,
        ["quant"] = 5,
        ["price"] = 1351,
        ["itemLink"] = 46,
        ["buyer"] = 207036,
        ["timestamp"] = 1689009950,
        ["guild"] = 5,
        ["seller"] = 15774,
    },
    [218] = 
    {
        ["id"] = "2145650463",
        ["wasKiosk"] = true,
        ["quant"] = 100,
        ["price"] = 15000,
        ["itemLink"] = 46,
        ["buyer"] = 202955,
        ["timestamp"] = 1688598862,
        ["guild"] = 4,
        ["seller"] = 5694,
    },
    [219] = 
    {
        ["id"] = "2145993259",
        ["wasKiosk"] = true,
        ["quant"] = 200,
        ["price"] = 37000,
        ["itemLink"] = 46,
        ["buyer"] = 206415,
        ["timestamp"] = 1688648697,
        ["guild"] = 4,
        ["seller"] = 5293,
    },
    [220] = 
    {
        ["id"] = "2146403683",
        ["wasKiosk"] = true,
        ["quant"] = 200,
        ["price"] = 37000,
        ["itemLink"] = 46,
        ["buyer"] = 114628,
        ["timestamp"] = 1688696717,
        ["guild"] = 4,
        ["seller"] = 5293,
    },
    [221] = 
    {
        ["id"] = "2146403693",
        ["wasKiosk"] = true,
        ["quant"] = 200,
        ["price"] = 37000,
        ["itemLink"] = 46,
        ["buyer"] = 114628,
        ["timestamp"] = 1688696723,
        ["guild"] = 4,
        ["seller"] = 5293,
    },
    [222] = 
    {
        ["id"] = "2146403697",
        ["wasKiosk"] = true,
        ["quant"] = 200,
        ["price"] = 37000,
        ["itemLink"] = 46,
        ["buyer"] = 114628,
        ["timestamp"] = 1688696724,
        ["guild"] = 4,
        ["seller"] = 5293,
    },
    [223] = 
    {
        ["id"] = "2146403707",
        ["wasKiosk"] = true,
        ["quant"] = 200,
        ["price"] = 37000,
        ["itemLink"] = 46,
        ["buyer"] = 114628,
        ["timestamp"] = 1688696725,
        ["guild"] = 4,
        ["seller"] = 5293,
    },
    [224] = 
    {
        ["id"] = "2146976657",
        ["wasKiosk"] = true,
        ["quant"] = 100,
        ["price"] = 15000,
        ["itemLink"] = 46,
        ["buyer"] = 193348,
        ["timestamp"] = 1688773242,
        ["guild"] = 4,
        ["seller"] = 5694,
    },
    [225] = 
    {
        ["id"] = "2147908023",
        ["wasKiosk"] = true,
        ["quant"] = 3,
        ["price"] = 600,
        ["itemLink"] = 46,
        ["buyer"] = 70794,
        ["timestamp"] = 1688874264,
        ["guild"] = 4,
        ["seller"] = 26930,
    },
    [226] = 
    {
        ["id"] = "2149050881",
        ["wasKiosk"] = true,
        ["quant"] = 200,
        ["price"] = 33200,
        ["itemLink"] = 46,
        ["buyer"] = 42935,
        ["timestamp"] = 1689009505,
        ["guild"] = 4,
        ["seller"] = 30336,
    },
    [227] = 
    {
        ["id"] = "2149147703",
        ["wasKiosk"] = false,
        ["quant"] = 100,
        ["price"] = 18000,
        ["itemLink"] = 46,
        ["buyer"] = 3436,
        ["timestamp"] = 1689021093,
        ["guild"] = 4,
        ["seller"] = 16954,
    },
    [228] = 
    {
        ["id"] = "2149147719",
        ["wasKiosk"] = false,
        ["quant"] = 33,
        ["price"] = 6600,
        ["itemLink"] = 46,
        ["buyer"] = 3436,
        ["timestamp"] = 1689021095,
        ["guild"] = 4,
        ["seller"] = 7746,
    },
    [229] = 
    {
        ["id"] = "2150026959",
        ["wasKiosk"] = false,
        ["quant"] = 100,
        ["price"] = 15000,
        ["itemLink"] = 46,
        ["buyer"] = 3229,
        ["timestamp"] = 1689126121,
        ["guild"] = 4,
        ["seller"] = 5694,
    },
    [230] = 
    {
        ["id"] = "2150174589",
        ["wasKiosk"] = true,
        ["quant"] = 200,
        ["price"] = 27000,
        ["itemLink"] = 46,
        ["buyer"] = 45595,
        ["timestamp"] = 1689142167,
        ["guild"] = 4,
        ["seller"] = 6662,
    },
    [231] = 
    {
        ["id"] = "2158311141",
        ["wasKiosk"] = true,
        ["quant"] = 200,
        ["price"] = 50000,
        ["itemLink"] = 46,
        ["buyer"] = 80490,
        ["timestamp"] = 1690215348,
        ["guild"] = 5,
        ["seller"] = 78121,
    },
    [232] = 
    {
        ["id"] = "2162183129",
        ["wasKiosk"] = true,
        ["quant"] = 10,
        ["price"] = 1460,
        ["itemLink"] = 46,
        ["buyer"] = 7864,
        ["timestamp"] = 1690582585,
        ["guild"] = 4,
        ["seller"] = 206355,
    },
    [233] = 
    {
        ["id"] = "2162183171",
        ["wasKiosk"] = true,
        ["quant"] = 10,
        ["price"] = 1460,
        ["itemLink"] = 46,
        ["buyer"] = 7864,
        ["timestamp"] = 1690582587,
        ["guild"] = 4,
        ["seller"] = 206355,
    },
    [234] = 
    {
        ["id"] = "2158431225",
        ["wasKiosk"] = true,
        ["quant"] = 5,
        ["price"] = 1307,
        ["itemLink"] = 46,
        ["buyer"] = 59017,
        ["timestamp"] = 1690226734,
        ["guild"] = 5,
        ["seller"] = 15774,
    },
    [235] = 
    {
        ["id"] = "2159196521",
        ["wasKiosk"] = true,
        ["quant"] = 100,
        ["price"] = 20000,
        ["itemLink"] = 46,
        ["buyer"] = 16249,
        ["timestamp"] = 1690316505,
        ["guild"] = 5,
        ["seller"] = 10960,
    },
    [236] = 
    {
        ["id"] = "2159196537",
        ["wasKiosk"] = true,
        ["quant"] = 50,
        ["price"] = 10000,
        ["itemLink"] = 46,
        ["buyer"] = 16249,
        ["timestamp"] = 1690316509,
        ["guild"] = 5,
        ["seller"] = 3288,
    },
    [237] = 
    {
        ["id"] = "2161384565",
        ["wasKiosk"] = false,
        ["quant"] = 9,
        ["price"] = 1800,
        ["itemLink"] = 46,
        ["buyer"] = 3448,
        ["timestamp"] = 1690512838,
        ["guild"] = 5,
        ["seller"] = 3849,
    },
    [238] = 
    {
        ["id"] = "2162116521",
        ["wasKiosk"] = true,
        ["quant"] = 50,
        ["price"] = 68000,
        ["itemLink"] = 46,
        ["buyer"] = 78124,
        ["timestamp"] = 1690576988,
        ["guild"] = 5,
        ["seller"] = 24858,
    },
    [239] = 
    {
        ["id"] = "2167492959",
        ["wasKiosk"] = true,
        ["quant"] = 50,
        ["price"] = 11500,
        ["itemLink"] = 46,
        ["buyer"] = 209273,
        ["timestamp"] = 1691092650,
        ["guild"] = 5,
        ["seller"] = 3448,
    },
    [240] = 
    {
        ["id"] = "2173917877",
        ["wasKiosk"] = true,
        ["quant"] = 100,
        ["price"] = 23821,
        ["itemLink"] = 46,
        ["buyer"] = 189185,
        ["timestamp"] = 1691645079,
        ["guild"] = 5,
        ["seller"] = 4033,
    },
    [241] = 
    {
        ["id"] = "2173917879",
        ["wasKiosk"] = true,
        ["quant"] = 20,
        ["price"] = 4909,
        ["itemLink"] = 46,
        ["buyer"] = 189185,
        ["timestamp"] = 1691645080,
        ["guild"] = 5,
        ["seller"] = 4140,
    },
    [242] = 
    {
        ["id"] = "2173917897",
        ["wasKiosk"] = true,
        ["quant"] = 20,
        ["price"] = 4909,
        ["itemLink"] = 46,
        ["buyer"] = 189185,
        ["timestamp"] = 1691645085,
        ["guild"] = 5,
        ["seller"] = 4140,
    },
    [243] = 
    {
        ["id"] = "2173917899",
        ["wasKiosk"] = true,
        ["quant"] = 20,
        ["price"] = 4909,
        ["itemLink"] = 46,
        ["buyer"] = 189185,
        ["timestamp"] = 1691645086,
        ["guild"] = 5,
        ["seller"] = 4140,
    },
    [244] = 
    {
        ["id"] = "2173917903",
        ["wasKiosk"] = true,
        ["quant"] = 20,
        ["price"] = 4909,
        ["itemLink"] = 46,
        ["buyer"] = 189185,
        ["timestamp"] = 1691645088,
        ["guild"] = 5,
        ["seller"] = 4140,
    },
    [245] = 
    {
        ["id"] = "2173917909",
        ["wasKiosk"] = true,
        ["quant"] = 20,
        ["price"] = 4909,
        ["itemLink"] = 46,
        ["buyer"] = 189185,
        ["timestamp"] = 1691645089,
        ["guild"] = 5,
        ["seller"] = 4140,
    },
}

local listings = 
{
    [1] = 
    {
        ["id"] = "4851513612097473716",
        ["quant"] = 200,
        ["listingTime"] = 1690290291,
        ["price"] = 42600,
        ["itemLink"] = 46,
        ["guildId"] = 130457,
        ["timestamp"] = 1691993322,
        ["guild"] = 2,
        ["seller"] = 21499,
    },
    [2] = 
    {
        ["id"] = "4917550967655771787",
        ["quant"] = 200,
        ["listingTime"] = 1690794126,
        ["price"] = 148000,
        ["itemLink"] = 46,
        ["guildId"] = 504447,
        ["timestamp"] = 1691993427,
        ["guild"] = 5,
        ["seller"] = 24858,
    },
    [3] = 
    {
        ["id"] = "4917550967655771786",
        ["quant"] = 200,
        ["listingTime"] = 1690794120,
        ["price"] = 148000,
        ["itemLink"] = 46,
        ["guildId"] = 504447,
        ["timestamp"] = 1691993423,
        ["guild"] = 5,
        ["seller"] = 24858,
    },
    [4] = 
    {
        ["id"] = "4917550967655771785",
        ["quant"] = 200,
        ["listingTime"] = 1690794109,
        ["price"] = 148000,
        ["itemLink"] = 46,
        ["guildId"] = 504447,
        ["timestamp"] = 1691993430,
        ["guild"] = 5,
        ["seller"] = 24858,
    },
    [5] = 
    {
        ["id"] = "4759509090425513365",
        ["quant"] = 200,
        ["listingTime"] = 1690785998,
        ["price"] = 59631,
        ["itemLink"] = 46,
        ["guildId"] = 504447,
        ["timestamp"] = 1691993425,
        ["guild"] = 5,
        ["seller"] = 80189,
    },
    [6] = 
    {
        ["id"] = "4833496928665759207",
        ["quant"] = 200,
        ["listingTime"] = 1691720098,
        ["price"] = 50000,
        ["itemLink"] = 46,
        ["guildId"] = 504447,
        ["timestamp"] = 1691993440,
        ["guild"] = 5,
        ["seller"] = 3129,
    },
    [7] = 
    {
        ["id"] = "4658367446737414575",
        ["quant"] = 5,
        ["listingTime"] = 1691988463,
        ["price"] = 1304,
        ["itemLink"] = 46,
        ["guildId"] = 504447,
        ["timestamp"] = 1691993415,
        ["guild"] = 5,
        ["seller"] = 15774,
    },
    [8] = 
    {
        ["id"] = "4870810625280677055",
        ["quant"] = 50,
        ["listingTime"] = 1691893853,
        ["price"] = 10000,
        ["itemLink"] = 46,
        ["guildId"] = 504447,
        ["timestamp"] = 1691993427,
        ["guild"] = 5,
        ["seller"] = 3288,
    },
    [9] = 
    {
        ["id"] = "4619979192254227687",
        ["quant"] = 100,
        ["listingTime"] = 1691869665,
        ["price"] = 75000,
        ["itemLink"] = 46,
        ["guildId"] = 504447,
        ["timestamp"] = 1691993479,
        ["guild"] = 5,
        ["seller"] = 96829,
    },
    [10] = 
    {
        ["id"] = "4637446970279074294",
        ["quant"] = 200,
        ["listingTime"] = 1691861939,
        ["price"] = 35800,
        ["itemLink"] = 46,
        ["guildId"] = 504447,
        ["timestamp"] = 1691993462,
        ["guild"] = 5,
        ["seller"] = 4046,
    },
}


function spairs(t, order)
  -- Create a temporary table to hold the sorted key-value pairs
  local sortedPairs = {}

  -- Populate the sortedPairs table with key-value pairs from the original table
  for k, v in pairs(t) do
    table.insert(sortedPairs, { key = k, value = v })
  end

  -- Sort the sortedPairs table using the provided order function
  if order then
    table.sort(sortedPairs, function(a, b) return order(a.value, b.value) end)
  else
    table.sort(sortedPairs, function(a, b) return a.key < b.key end)
  end

  -- Return an iterator function that iterates over the sorted key-value pairs
  local i = 0
  return function()
    i = i + 1
    if sortedPairs[i] then
      return sortedPairs[i].key, sortedPairs[i].value
    end
  end
end

local stats = {}

function stats.CleanUnitPrice(salesRecord)
  return salesRecord.price / salesRecord.quant
end

function stats.CleanTimestamp(salesRecord)
  if (salesRecord == nil) or (salesRecord.timestamp == nil) or (type(salesRecord.timestamp) ~= 'number') then return 0 end
  return salesRecord.timestamp
end

function stats.CleanPrice(salesRecord)
  return salesRecord.price
end

-- This function will not sort sales because of CleanUnitPrice when the unit price is the same
function stats.GetSortedSales(t)
  local sortedTable = {}
  local salesDataTable = spairs(t, function(a, b) return stats.CleanUnitPrice(a) < stats.CleanUnitPrice(b) end)
  for _, v in salesDataTable do
    sortedTable[#sortedTable + 1] = v
  end
  return sortedTable
end

function stats.GetSortedSaleTimestamps(t)
  local sortedTable = {}
  local salesDataTable = spairs(t, function(a, b) return stats.CleanTimestamp(a) < stats.CleanTimestamp(b) end)
  for _, v in salesDataTable do
    sortedTable[#sortedTable + 1] = v
  end
  return sortedTable
end

function stats.GetSortedSalePrices(t)
  local sortedTable = {}
  local salesDataTable = spairs(t, function(a, b) return stats.CleanPrice(a) < stats.CleanPrice(b) end)
  for _, v in salesDataTable do
    sortedTable[#sortedTable + 1] = v
  end
  return sortedTable
end

-- Get the mean value of a table
function stats.mean(t)
  local sum = 0
  local count = 0

  for _, sale in pairs(t) do
    sum = sum + sale
    count = count + 1
  end

  return (sum / count), count, sum
end

-- Get the mode of a table.  Returns a table of values.
-- Works on anything (not just numbers).
function stats.mode(t)
  local counts = {}

  for _, sale in pairs(t) do
    if counts[sale] == nil then
      counts[sale] = 1
    else
      counts[sale] = counts[sale] + 1
    end
  end

  local biggestCount = 0

  for _, v in pairs(counts) do
    if v > biggestCount then
      biggestCount = v
    end
  end

  local modeValues = {}

  for k, v in pairs(counts) do
    if v == biggestCount then
      table.insert(modeValues, k)
    end
  end

  return modeValues
end

--[[ Get the median of a table.
Modified: Requires the table to be sorted already
]]--
--(190 –z = (x – μ) / σ 150) / 25 = 1.6.
function stats.median(t, index, range)
  local temp = {}
  local hasRange = index ~= nil and range ~= nil

  if hasRange then
    for i = index, range do
      local individualSale = t[i]
      temp[#temp + 1] = individualSale
    end
  else
    temp = t
  end
  table.sort(temp)

  -- If we have an even number of table elements or odd.
  if math.fmod(#temp, 2) == 0 then
    -- Return mean value of middle two elements
    local middleIndex = math.ceil(#temp / 2)
    return (temp[middleIndex] + temp[middleIndex + 1]) / 2
  else
    -- Return middle element
    local middleIndex = math.ceil(#temp / 2)
    return temp[middleIndex]
  end
end

-- /script d({MasterMerchant.stats.mean(MasterMerchant.a_test)})
function stats.standardDeviation(t)
  local mean
  local vm
  local sum = 0
  local count = 0
  local result

  mean = stats.mean(t)

  for _, individualSale in pairs(t) do
    if type(individualSale) == 'number' then
      vm = individualSale - mean
      sum = sum + (vm * vm)
      count = count + 1
    end
  end

  result = math.sqrt(sum / (count - 1))

  return result
end

function stats.zscore(individualSale, mean, standardDeviation)
  return (individualSale - mean) / standardDeviation
end

function stats.findMinMax(t)
  local maxVal = -math.huge
  local minVal = math.huge

  for _, individualSale in pairs(t) do
    maxVal = math.max(maxVal, individualSale)
    minVal = math.min(minVal, individualSale)
  end

  return maxVal, minVal
end

function stats.range(t)
  local highest, lowest = stats.findMinMax(t)
  return highest - lowest
end

function stats.medianAbsoluteDeviation(t)
  local medianValue = stats.median(t)
  local absoluteDeviations = {}

  for _, value in pairs(t) do
    local absoluteDeviation = math.abs(value - medianValue)
    table.insert(absoluteDeviations, absoluteDeviation)
  end

  return stats.median(absoluteDeviations)
end

function stats.getLowerAndUpperPercentages(percentage)
    local function getPercent(percentage)
      if type(percentage) == "number" and percentage >= 0 then
        local floatPercentage = percentage / 100
        return tonumber(string.format("%.2f", floatPercentage))
      else
        return nil -- Invalid input
      end
    end
    
    local lowerPercent = getPercent(percentage)
    local upperPercent = getPercent(100 - percentage)
    return lowerPercent, upperPercent
end

function stats.getPercentileIndex(statsData, percentage)
  local contextIndex = math.ceil(#statsData * percentage)
  return contextIndex
end

function stats.getUpperLowerPercentileIndexes(statsData, percentage)
  local lowerPercent, upperPercent = stats.getLowerAndUpperPercentages(percentage)
  print(lowerPercent, upperPercent)
  local lowerIndex = math.ceil(#statsData * lowerPercent)
  local upperIndex = math.ceil(#statsData * upperPercent)
  return lowerIndex, upperIndex
end

function stats.getUpperLowerContextFactors(statsData, percentage)
  local lowerIndex, upperIndex = stats.getUpperLowerPercentileIndexes(statsData, percentage)
  local lowerContextFactor = statsData[lowerIndex]
  local upperContextFactor = statsData[upperIndex]
  print(lowerContextFactor, upperContextFactor)
  return lowerContextFactor, upperContextFactor
end

function stats.calculatePercentileContextFactor(statsData, percentage)
  local contextIndex = stats.getPercentileIndex(statsData, percentage)
  local contextFactor = statsData[contextIndex]
  return contextFactor
end

function stats.getMiddleIndex(count)
  local evenNumber = false
  local quotient, remainder = math.modf(count / 2)
  if remainder == 0 then evenNumber = true end
  local middleIndex = quotient + math.floor(0.5 + remainder)
  return middleIndex, evenNumber
end

--[[ we do not use this function in there are less then three
items in the table.

middleIndex will be rounded up when odd
]]--
function stats.interquartileRange(statsData)
  local statsDataCount = #statsData
  local middleIndex, evenNumber = stats.getMiddleIndex(statsDataCount)
  local quartile1, quartile3
  -- 1,2,3,4
  if evenNumber then
    quartile1 = stats.median(statsData, 1, middleIndex)
    quartile3 = stats.median(statsData, middleIndex + 1, #statsData)
  else
    -- 1,2,3,4,5
    -- odd number
    quartile1 = stats.median(statsData, 1, middleIndex)
    quartile3 = stats.median(statsData, middleIndex, #statsData)
  end
  return quartile1, quartile3, quartile3 - quartile1
end

function stats.calculateMADScore(statsData)
  local medianAbsoluteDev = stats.medianAbsoluteDeviation(statsData)
  local median = stats.median(statsData)
  local madScore = medianAbsoluteDev / median
  return madScore
end

function stats.calculateMADScoreWithStdDev(statsData)
  local medianAbsoluteDev = stats.medianAbsoluteDeviation(statsData)
  local stdev = stats.standardDeviation(statsData)
  local madScore = medianAbsoluteDev / stdev
  return madScore
end

function stats.calculateMADThreshold(statsData)
  local medianAbsoluteDev = stats.medianAbsoluteDeviation(statsData)
  local madScore = stats.calculateMADScore(statsData)
  local median = stats.median(statsData)
  local madThreshold = median + madScore * medianAbsoluteDev
  return madThreshold
end

function stats.calculateDomainPriceThreshold(statsData)
  local median = stats.median(statsData)
  local medianAbsoluteDev = stats.medianAbsoluteDeviation(statsData)
  local madScore = stats.calculateMADScore(statsData)

  local madThreshold = 3
  local domainPriceThreshold = median + madScore * medianAbsoluteDev * madThreshold
  return domainPriceThreshold
end

function stats.calculateDynamicMADThreshold(statsData, contextFactor)
  local median = stats.median(statsData)
  local medianAbsoluteDev = stats.medianAbsoluteDeviation(statsData)
  local madScore = stats.calculateMADScore(statsData)
  local dynamicMadThreshold = median + madScore * medianAbsoluteDev * contextFactor
  return dynamicMadThreshold
end

function stats.calculatePercentileContextFactor(statsData, percentile)
  local contextIndex = math.ceil(#statsData * percentile)
  local contextFactor = statsData[contextIndex]
  return contextFactor
end

function stats.IdentifyOutliers(dataList, statsData)
  local madThreshold = 2.7
  local iqrMultiplier = 1.5
  local zScoreThreshold = 1.881

  local nonOutliers = {}
  local nonOutliersCount = 0
  local oldestTime = nil

  local median = stats.median(statsData)
  local medianAbsoluteDev = stats.medianAbsoluteDeviation(statsData)
  local domainPriceThreshold = median + medianAbsoluteDev * madThreshold
  local quartile1, quartile3, quartileRange = stats.interquartileRange(statsData)
  local mean = stats.mean(statsData)
  local stdev = stats.standardDeviation(statsData)

  for _, item in pairs(dataList) do
    local individualSale = item.price / item.quant
    local zScore = stats.zscore(individualSale, mean, stdev)
    local isWithinMAD = individualSale <= domainPriceThreshold
    local isWithinIQR = individualSale >= quartile1 - iqrMultiplier * quartileRange and individualSale <= quartile3 + iqrMultiplier * quartileRange
    local isZScoreValid = zScore <= zScoreThreshold and zScore >= -zScoreThreshold

    if isWithinMAD then
      if isWithinIQR then
        if isZScoreValid then
          if oldestTime == nil or oldestTime > item.timestamp then oldestTime = item.timestamp end
          nonOutliersCount = nonOutliersCount + 1
          table.insert(nonOutliers, item)
        end
      end
    end
  end

  return nonOutliers, oldestTime, nonOutliersCount
end

function stats.IdentifyOutliersWithContextFactor(dataList, statsData)
  local percentile = 0.95
  local iqrMultiplier = 1.5
  local zScoreThreshold = 2.054

  local nonOutliers = {}
  local nonOutliersCount = 0
  local oldestTime = nil

  local percentileContextFactor = stats.calculatePercentileContextFactor(statsData, percentile)
  local mean = stats.mean(statsData)
  local stdev = stats.standardDeviation(statsData)
  local quartile1, quartile3, quartileRange = stats.interquartileRange(statsData)

  for _, item in pairs(dataList) do
    local individualSale = item.price / item.quant
    local zScore = stats.zscore(individualSale, mean, stdev)
    local isWithinCP = individualSale <= percentileContextFactor
    local isWithinIQR = individualSale >= quartile1 - iqrMultiplier * quartileRange and individualSale <= quartile3 + iqrMultiplier * quartileRange
    local isZScoreValid = zScore <= zScoreThreshold and zScore >= -zScoreThreshold

    if isWithinCP then
      if isWithinIQR then
        if isZScoreValid then
          if oldestTime == nil or oldestTime > item.timestamp then oldestTime = item.timestamp end
          nonOutliersCount = nonOutliersCount + 1
          table.insert(nonOutliers, item)
        end
      end
    end
  end

  return nonOutliers, oldestTime, nonOutliersCount
end

function stats.IdentifyOutliersWithDynamicContextFactor(dataList, statsData)
  local iqrMultiplier = 1.5
  local zScoreThreshold = 2.054

  local nonOutliers = {}
  local nonOutliersCount = 0
  local oldestTime = nil

  local median = stats.median(statsData)
  local medianAbsoluteDev = stats.medianAbsoluteDeviation(statsData)
  local contextFactor = median + medianAbsoluteDev * 2.7  -- Default context factor

  -- Calculate the dynamic context factor based on the data set
  local dynamicContextFactor = stats.calculateDynamicMADThreshold(statsData, contextFactor)

  local mean = stats.mean(statsData)
  local stdev = stats.standardDeviation(statsData)
  local quartile1, quartile3, quartileRange = stats.interquartileRange(statsData)

  for _, item in pairs(dataList) do
    local individualSale = item.price / item.quant
    local zScore = stats.zscore(individualSale, mean, stdev)
    local isWithinDCP = individualSale <= dynamicContextFactor
    local isWithinIQR = individualSale >= quartile1 - iqrMultiplier * quartileRange and individualSale <= quartile3 + iqrMultiplier * quartileRange
    local isZScoreValid = zScore <= zScoreThreshold and zScore >= -zScoreThreshold

    if isWithinDCP then
      if isWithinIQR then
        if isZScoreValid then
          if oldestTime == nil or oldestTime > item.timestamp then oldestTime = item.timestamp end
          nonOutliersCount = nonOutliersCount + 1
          table.insert(nonOutliers, item)
        end
      end
    end
  end

  return nonOutliers, oldestTime, nonOutliersCount
end

function stats.calculateAdjustedPercentileContextFactor(statsData, bonanzaStatsData, percentile)
  --[[There is no need to determine if statsData is not empty and bonanzaStatsData is empty, because
  this function is called after previously checking whether or not bonanzaStatsData is empty]]--
  local statsPercentileFactor = 0
  local bonanzaPercentileFactor = 0
  local adjustedBonanzaPercentileFactor = 0
  local statsMean = 0
  local bonanzaMean = 0

  if (statsData and not next(statsData)) and (bonanzaStatsData and next(bonanzaStatsData)) then
    adjustedBonanzaPercentileFactor = stats.calculatePercentileContextFactor(bonanzaStatsData, percentile)
  elseif (statsData and next(statsData)) and (bonanzaStatsData and next(bonanzaStatsData)) then
    statsMean = stats.mean(statsData)
    bonanzaMean = stats.mean(bonanzaStatsData)

    statsPercentileFactor = stats.calculatePercentileContextFactor(statsData, percentile)
    bonanzaPercentileFactor = stats.calculatePercentileContextFactor(bonanzaStatsData, percentile)

    local statsStDev = stats.standardDeviation(statsData)
    local maxDeviation = 2.054  -- Maximum allowable deviation in standard deviations

    -- Calculate adjusted bonanzaPercentileFactor
    if bonanzaMean > statsMean then
      adjustedBonanzaPercentileFactor = math.min(bonanzaPercentileFactor, statsPercentileFactor + maxDeviation * statsStDev)
    else
      adjustedBonanzaPercentileFactor = math.max(bonanzaPercentileFactor, statsPercentileFactor - maxDeviation * statsStDev)
    end
  end

  return {
    bonanzaPercentileFactor = adjustedBonanzaPercentileFactor,
    meanDifference = math.abs(statsMean - bonanzaMean),
    adjustedMeanDifference = adjustedBonanzaPercentileFactor - statsPercentileFactor,
  }
end

function stats.calculateHypotheticalPValue(statsData, bonanzaStatsData)
  local percentile = 0.95

  -- Calculate the mean of the two datasets
  local statsMean = stats.mean(statsData)
  local bonanzaMean = stats.mean(bonanzaStatsData)
  
  -- Calculate the standard deviation of the statsData
  local statsStDev = stats.standardDeviation(statsData)
  
  -- Calculate the maximum allowable deviation in standard deviations
  local maxDeviation = 1.881
  
  -- Calculate the adjusted bonanzaMean based on the hypothetical situation
  local adjustedBonanzaMean = bonanzaMean
  
  if bonanzaMean > statsMean then
    adjustedBonanzaMean = math.min(bonanzaMean, statsMean + maxDeviation * statsStDev)
  else
    adjustedBonanzaMean = math.max(bonanzaMean, statsMean - maxDeviation * statsStDev)
  end
  
  -- Calculate the adjusted bonanzaStatsData based on the adjusted mean
  local adjustedBonanzaStatsData = {}
  for _, individualSale in pairs(bonanzaStatsData) do
    table.insert(adjustedBonanzaStatsData, individualSale - (bonanzaMean - adjustedBonanzaMean))
  end
  
  -- Calculate the context factor for the specified percentile
  local contextFactor = stats.calculatePercentileContextFactor(adjustedBonanzaStatsData, percentile)
  
  -- Calculate the p-value based on the context factor
  local pValue = contextFactor / adjustedBonanzaMean
  
  return pValue
end

function stats.calculateContextualPercentile(statsData, bonanzaStatsData)
  local desiredPercentile = 0.75
  local statsMean = stats.mean(statsData)
  local bonanzaMean = stats.mean(bonanzaStatsData)
  local statsStDev = stats.standardDeviation(statsData)
  
  local maxDeviation = 1.881
  local adjustedBonanzaMean = bonanzaMean
  local adjustedBonanzaStatsData = {}
  
  if bonanzaMean > statsMean then
    adjustedBonanzaMean = math.min(bonanzaMean, statsMean + maxDeviation * statsStDev)
  else
    adjustedBonanzaMean = math.max(bonanzaMean, statsMean - maxDeviation * statsStDev)
  end
  
  for _, individualSale in pairs(bonanzaStatsData) do
    table.insert(adjustedBonanzaStatsData, individualSale - (bonanzaMean - adjustedBonanzaMean))
  end
  
  -- Calculate z-scores
  local zScores = {}
  for _, individualSale in pairs(adjustedBonanzaStatsData) do
    local zScore = stats.zscore(individualSale, adjustedBonanzaMean, statsStDev)
    table.insert(zScores, zScore)
  end
  
  -- Find z-score threshold based on maxDeviation
  local zScoreThreshold = maxDeviation
  
  -- Determine the threshold value based on z-score
  local threshold = 165000
  for i, zScore in ipairs(zScores) do
    if zScore > zScoreThreshold then
      threshold = adjustedBonanzaStatsData[i]
      break
    end
  end
  
  -- Calculate contextual percentile
  local contextIndex = math.ceil(#adjustedBonanzaStatsData * desiredPercentile)
  local contextFactor = adjustedBonanzaStatsData[contextIndex]
  local contextualPercentile = contextFactor / adjustedBonanzaMean
  
  -- Determine the outlier probability
  local outliers = 0
  for _, individualSale in pairs(adjustedBonanzaStatsData) do
    if individualSale >= threshold then
      outliers = outliers + 1
    end
  end
  
  local outlierProbability = outliers / #adjustedBonanzaStatsData
  
  return contextualPercentile, outlierProbability
end

function YourRemoveOutliersFromBonanzaList(bonanzaList)
  -- Calculate outlier probability
  local contextualPercentile, outlierProbability = stats.calculateContextualPercentile(statsData, bonanzaStatsData)

  local percentileThreshold = contextualPercentile  -- Use contextual percentile as threshold
  local zScoreThreshold = outlierProbability       -- Use outlier probability as threshold
  
  local filteredBonanzaList = {}
  for _, item in pairs(bonanzaList) do
    local currentGuild = internal:GetGuildNameByIndex(item.guild)
    local currentSeller = internal:GetAccountNameByIndex(item.seller)
    local nameInBlacklist = IsNameInBlacklist(currentGuild, currentSeller)
    
    if not nameInBlacklist then
      local individualSale = item.price / item.quant
      local isOutlier = individualSale >= percentileThreshold or outlierProbability >= zScoreThreshold
      if not isOutlier then
        table.insert(filteredBonanzaList, item)
      end
    end
  end

  return filteredBonanzaList
end

function IsNameInBlacklist(guild, seller)
  local blacklistTable = MasterMerchant.blacklistTable
  if blacklistTable == nil then return false end
  return (guild and blacklistTable[guild]) or
         (seller and blacklistTable[seller])
end


local statsData = {}
local function BuildStatsData(item)
    local individualSale = item.price / item.quant
    statsData[#statsData + 1] = individualSale
end
local function SortStatsData()
    statsDataCount = #statsData
    table.sort(statsData)
end
for _, item in pairs(sales) do
    BuildStatsData(item)
end
SortStatsData()

local bonanzaStatsData = {}
local function BuildBonanzaData(item)
    local individualSale = item.price / item.quant
    bonanzaStatsData[#bonanzaStatsData + 1] = individualSale
end
local function SortBonanzaData()
    bonanzaDataCount = #bonanzaStatsData
    table.sort(bonanzaStatsData)
end
for _, item in pairs(listings) do
    BuildBonanzaData(item)
end
SortBonanzaData()


print("Test All Functions:")
  -- CleanUnitPrice
  local cleanedPrice = stats.CleanUnitPrice(sales[1])
  print("Cleaned Unit Price:", cleanedPrice)

  -- GetSortedSales
  local sortedSales = stats.GetSortedSales(listings)
  print("Sorted Sales:")
    for _, sale in pairs(sortedSales) do
        print("Price:", sale.price)
    end
  print("--------------")

local sortedSalesByTimestamp = stats.GetSortedSaleTimestamps(listings)
  print("Sorted timestamps:")
    for _, sale in pairs(sortedSalesByTimestamp) do
        print("Price:", sale.timestamp)
    end
  print("--------------")

local sortedSalesByPrice = stats.GetSortedSalePrices(listings)
  print("Sorted Prices:")
    for _, sale in pairs(sortedSalesByPrice) do
        print("Price:", sale.price)
    end
  print("--------------")

  -- mean
  local mean, count, sum = stats.mean(statsData)
  print("Mean:", mean, "Count:", count, "Sum:", sum)

  -- mode
  local modeValues = stats.mode(statsData)
  print("Mode:", table.concat(modeValues, ", "))

  -- median
  local median = stats.median(statsData)
  print("Median:", median)

  -- standardDeviation
  local stdev = stats.standardDeviation(statsData)
  print("Standard Deviation:", stdev)

  -- zscore
  local zScore = stats.zscore(25, mean, stdev)
  print("Z-Score:", zScore)

  -- findMinMax
  local maxVal, minVal = stats.findMinMax(statsData)
  print("Max Value:", maxVal, "Min Value:", minVal)

  -- range
  local range = stats.range(statsData)
  print("Range:", range)

  -- medianAbsoluteDeviation
  local mad = stats.medianAbsoluteDeviation(statsData)
  print("Median Absolute Deviation:", mad)

  -- getLowerAndUpperPercentages
  local lowerPercent, upperPercent = stats.getLowerAndUpperPercentages(5)
  print("Lower Percent:", lowerPercent, "Upper Percent:", upperPercent)

  -- getPercentileIndex
  local percentileIndex = stats.getPercentileIndex(statsData, 0.75)
  print("Percentile Index:", percentileIndex)

  -- getUpperLowerPercentileIndexes
  local lowerIndex, upperIndex = stats.getUpperLowerPercentileIndexes(statsData, 5)
  print("Lower Index:", lowerIndex, "Upper Index:", upperIndex)

  -- getUpperLowerContextFactors
  local lowerContextFactor, upperContextFactor = stats.getUpperLowerContextFactors(statsData, 5)
  print("Lower Context Factor:", lowerContextFactor, "Upper Context Factor:", upperContextFactor)

  -- calculatePercentileContextFactor
  local contextFactor = stats.calculatePercentileContextFactor(statsData, 0.85)
  print("Percentile Context Factor:", contextFactor)

  -- IdentifyOutliers
  local nonOutliers, oldestTime, nonOutliersCount = stats.IdentifyOutliers(sales, statsData)
  print("Non-Outliers Count:", nonOutliersCount)

  -- IdentifyOutliersWithContextFactor
  local nonOutliersWithContext, oldestTimeWithContext, nonOutliersCountWithContext = stats.IdentifyOutliersWithContextFactor(sales, statsData)
  print("Non-Outliers Count (with Context Factor):", nonOutliersCountWithContext)

  -- IdentifyOutliersWithDynamicContextFactor
  local nonOutliersWithDynamicContext, oldestTimeWithDynamicContext, nonOutliersCountWithDynamicContext = stats.IdentifyOutliersWithDynamicContextFactor(sales, statsData)
  print("Non-Outliers Count (with Dynamic Context Factor):", nonOutliersCountWithDynamicContext)

  -- calculateAdjustedPercentileContextFactor
  local adjustedFactors = stats.calculateAdjustedPercentileContextFactor(statsData, bonanzaStatsData, 0.85)
  print("Adjusted Bonanza Percentile Factor:", adjustedFactors.bonanzaPercentileFactor, "Mean Difference:", adjustedFactors.meanDifference, "Adjusted Mean Difference:", adjustedFactors.adjustedMeanDifference)

  -- calculateHypotheticalPValue
  local pValue = stats.calculateHypotheticalPValue(statsData, bonanzaStatsData)
  print("Hypothetical P-Value:", pValue)

  -- calculateContextualPercentile
  local contextualPercentile, outlierProbability = stats.calculateContextualPercentile(statsData, bonanzaStatsData)
  print("Contextual Percentile:", contextualPercentile, "Outlier Probability:", outlierProbability)


local meanValue, count, sum = stats.mean(statsData)
local medianValue = stats.median(statsData)
local modeValues = stats.mode(statsData)
local standardDev = stats.standardDeviation(statsData)
local medianAbsDev = stats.medianAbsoluteDeviation(statsData)
local quartile1, quartile3, interquartileRange = stats.interquartileRange(statsData)
local nonOutliers, oldestTime, nonOutliersCount = stats.IdentifyOutliers(sales, statsData)
local range = stats.range(statsData)
local madScore = stats.calculateMADScore(statsData)
local madScoreDev = stats.calculateMADScoreWithStdDev(statsData)
local madThreshold = stats.calculateMADThreshold(statsData)
local domainPriceThreshold = stats.calculateDomainPriceThreshold(statsData)
local contextFactor = medianValue + medianAbsDev * 2.7  -- Default context factor
local dynamicContextFactor = stats.calculateDynamicMADThreshold(statsData, contextFactor)
local lowerPercentileContextFactor, upperPercentileContextFactor = stats.getUpperLowerContextFactors(statsData, 5)

print("Stats Data Count: ", statsDataCount)
print("Stats Mean: ", meanValue)
print("Stats Median: ", medianValue)
print("Stats Mode: ", table.concat(modeValues, ", "))
print("Stats Standard Deviation: ", standardDev)
print("Stats Median Absolute Deviation: ", medianAbsDev)
print("Stats Interquartile Range", quartile1, quartile3, interquartileRange)
print("Stats Range: ", range)
print("Stats MAD Score: ", madScore)
print("Stats MAD Threshold: ", madThreshold)
print("Stats Domain Price Threshold: ", domainPriceThreshold)
print("Stats Dynamic Context Factor: ", dynamicContextFactor)
print("Stats Calculated Percentile Factors: ", lowerPercentileContextFactor, upperPercentileContextFactor)

local outStatsData = {}
print("Identified Outliers: ")
print("Non Outliers Count: ", nonOutliersCount)

for _, item in pairs(nonOutliers) do
    local individualSale = item.price / item.quant
    outStatsData[#outStatsData + 1] = individualSale
end
table.sort(outStatsData)

local pValue = stats.calculateHypotheticalPValue(statsData, outStatsData)
local contextualPercentile, outlierProbability = stats.calculateContextualPercentile(statsData, outStatsData)
print("Example p-value:", pValue)
print("Contextual Percentile:", contextualPercentile)
print("Outlier Probability:", outlierProbability)

local outMeanValue, count, sum = stats.mean(outStatsData)
local outRange = stats.range(outStatsData)
local outMadScore = stats.calculateMADScore(outStatsData)
local outMadThreshold = stats.calculateMADThreshold(outStatsData)
print("Non Outliers Mean: ", outMeanValue)
print("Non Outliers Range: ", outRange)
print("Non Outliers MAD Score: ", outMadScore)
print("Non Outliers MAD Threshold: ", outMadThreshold)
  print("Sales:")
for _, sale in pairs(nonOutliers) do
  print("Price:", sale.price)
end
  print("--------------")

print("Contextually Identified Outliers: ")

local conStatsData = {}
for _, item in pairs(listings) do
    local individualSale = item.price / item.quant
    conStatsData[#conStatsData + 1] = individualSale
end
table.sort(conStatsData)

local listOutliers, listOldestTime, listOutliersCount = stats.IdentifyOutliers(listings, conStatsData)
local conOutliers, oldestTime, conOutliersCount = stats.IdentifyOutliersWithContextFactor(listings, conStatsData)
local conMeanValue, count, sum = stats.mean(conStatsData)
local conMedianValue = stats.median(conStatsData)
local conMedianAbsDev = stats.medianAbsoluteDeviation(conStatsData)
local conRange = stats.range(conStatsData)
local conMadScore = stats.calculateMADScore(conStatsData)
local conMadThreshold = stats.calculateMADThreshold(conStatsData)
local conPercentileContextFactor = stats.calculatePercentileContextFactor(conStatsData, 0.95)
local conAdjustedPercentileContextFactor = stats.calculateAdjustedPercentileContextFactor(statsData, conStatsData, 0.95)
local conDomainPriceThreshold = stats.calculateDomainPriceThreshold(conStatsData)
local conContextFactor = medianValue + conMedianAbsDev * 2.7  -- Default context factor
local conDynamicContextFactor = stats.calculateDynamicMADThreshold(conStatsData, conContextFactor)
print("Listings Data Count: ", conOutliersCount)
print("Listings Mean: ", conMeanValue)
print("Listings Median: ", conMedianValue)
print("Listings Range: ", conRange)
print("Listings MAD Score: ", conMadScore)
print("Listings MAD Threshold: ", conMadThreshold)
print("Listings Domain Price Threshold: ", conDomainPriceThreshold)
print("Listings Dynamic Context Factor: ", conDynamicContextFactor)
print("Listings Calculated Percentile Factor: ", conPercentileContextFactor)
  print("Listings:")
for _, sale in pairs(listOutliers) do
  print("Price:", sale.price)
end
  print("--------------")
  print("Listings Contextual:")
for _, sale in pairs(conOutliers) do
  print("Price:", sale.price)
end
  print("--------------")
print("Adjusted Percentile ContextFactor:")
print("PercentileFactor:", conAdjustedPercentileContextFactor.bonanzaPercentileFactor)
print("Mean Difference:", conAdjustedPercentileContextFactor.meanDifference)
print("--------------")

print("Some New Stuff To Test:")
local statsPercentileFactor = 25000

local statsDev = 1.53
local maxDev = 2.5

print("Product =", statsDev * maxDev)
print("Added: ", statsPercentileFactor + maxDev * statsDev)
print("Subtracted: ", statsPercentileFactor - maxDev * statsDev)